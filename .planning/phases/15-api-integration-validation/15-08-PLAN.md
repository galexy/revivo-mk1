---
phase: 15-api-integration-validation
plan: 08
type: execute
wave: 5
depends_on: ["15-06", "15-07"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can create a checking account through the full wizard flow in a real browser"
    - "User can edit an account name through the edit wizard flow"
    - "User can delete an account through the type-to-confirm dialog"
    - "Sidebar shows accounts grouped by type with correct subtotals"
    - "Empty state shown for new users with no accounts"
  artifacts: []
  key_links: []
---

<objective>
Perform user acceptance testing via Chrome DevTools MCP against the running application.

Purpose: Final validation that the full user experience works -- visual quality, flow correctness, error handling, responsive behavior.
Output: UAT verification confirming all success criteria are met.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/CHECKPOINTS.md
@.planning/phases/15-api-integration-validation/15-CONTEXT.md
@.planning/phases/15-api-integration-validation/15-06-SUMMARY.md
@.planning/phases/15-api-integration-validation/15-07-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run full UAT flow via Chrome DevTools MCP</name>
  <files></files>
  <action>
    Start the backend and frontend servers, then launch headless Chromium for Chrome DevTools MCP testing.

    1. Start servers (background tasks):
       - `npx nx serve api` (run_in_background: true)
       - `npx nx serve web` (run_in_background: true)
       - Wait for both to be ready (curl health checks)
       - Start Chromium: `chromium --headless=new --no-sandbox --remote-debugging-port=9222 --disable-gpu --disable-dev-shm-usage about:blank` (run_in_background: true)

    2. Navigate to the app and log in:
       - Use Chrome DevTools MCP to navigate to http://localhost:5173
       - Should redirect to /login (no auth cookies)
       - Register a new user (or use existing test credentials)
       - Complete email verification via Mailpit API
       - Log in and reach the dashboard

    3. UAT Flow 1 - Empty state:
       - Verify centered welcome screen shows "Add your first account" button
       - Take screenshot for visual verification
       - Verify no sidebar visible when zero accounts

    4. UAT Flow 2 - Create checking account:
       - Click "Add Your First Account"
       - Verify wizard opens with step 1 (type selection) and progress dots
       - Select "Checking" type
       - Click Next, verify step 2 (details)
       - Enter name: "UAT Checking"
       - Click Next, verify step 3 (balance)
       - Enter opening balance: 1500.00
       - Click Next, verify step 4 (review shows all data)
       - Click "Create Account"
       - Verify wizard closes
       - Verify "UAT Checking" appears in sidebar under "Cash" group
       - Verify balance shows $1,500.00

    5. UAT Flow 3 - Create credit card account:
       - Click "Add Account" button in sidebar
       - Select "Credit Card" type
       - Enter name: "UAT Credit Card"
       - Verify credit limit field appears (type-specific)
       - Enter credit limit: 5000
       - Enter opening balance: 250.00
       - Review and create
       - Verify appears in sidebar under "Credit" group

    6. UAT Flow 4 - Edit account:
       - Hover over "UAT Checking" in sidebar
       - Click "..." menu
       - Click "Edit"
       - Verify wizard opens in edit mode (starts at step 2, type locked)
       - Change name to "UAT Checking - Updated"
       - Navigate through steps and save
       - Verify sidebar shows updated name

    7. UAT Flow 5 - Delete account:
       - Hover over "UAT Credit Card" in sidebar
       - Click "..." menu > Delete
       - Verify delete dialog shows account name
       - Verify delete button is disabled
       - Type "UAT Credit Card" in confirmation input
       - Verify delete button becomes enabled
       - Click Delete
       - Verify "UAT Credit Card" removed from sidebar

    8. UAT Flow 6 - Account detail:
       - Click "UAT Checking - Updated" in sidebar
       - Verify navigated to account detail view
       - Verify shows account name, type, balance

    9. Cleanup:
       - Stop Chromium, web server, API server (reverse order)

    Document any issues found. Fix blocking issues before claiming completion. Non-blocking visual polish issues can be noted for future phases.
  </action>
  <verify>
    All 6 UAT flows complete successfully:
    1. Empty state shows welcome prompt
    2. Create checking account via wizard
    3. Create credit card account with type-specific fields
    4. Edit account name via edit wizard
    5. Delete account via type-to-confirm
    6. Account detail view accessible from sidebar
  </verify>
  <done>
    Full user acceptance testing confirms all Phase 15 success criteria met.
    Account CRUD works end-to-end through the UI against real backend.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete account CRUD UI with:
    - 4-step account creation wizard (all 7 account types)
    - Account sidebar with type-based grouping and subtotals
    - Edit wizard (pre-filled, type locked)
    - Type-to-confirm delete dialog
    - Empty state welcome screen
    - Account detail page
    - Vitest component tests + Playwright E2E tests
  </what-built>
  <how-to-verify>
    1. Start servers: `npx nx serve api` and `npx nx serve web`
    2. Open http://localhost:5173 in browser
    3. Log in (register if needed)
    4. Verify empty state shows "Add Your First Account"
    5. Create a checking account via wizard
    6. Verify it appears in sidebar grouped under "Cash"
    7. Create a credit card account (verify credit limit field appears)
    8. Edit the checking account (verify type is locked)
    9. Delete the credit card account (verify type-to-confirm)
    10. Click an account to see detail view
    11. Check visual quality: dark/light mode, spacing, typography
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- All UAT flows pass via Chrome DevTools MCP
- Human verification confirms visual quality and UX
- All Phase 15 success criteria met
</verification>

<success_criteria>
Phase 15 complete: account CRUD validated end-to-end through the UI.
</success_criteria>

<output>
After completion, create `.planning/phases/15-api-integration-validation/15-08-SUMMARY.md`
</output>
